"use strict";angular.module("umbraco").controller("Koben.Iconic.Controller",["$scope","assetsService",function(n,t){function r(n,t){return n.find(function(n){return n.id===t})}function u(){n.loading=!0;angular.isObject(n.model.value)||(n.model.value={});n.model.value&&n.model.value.packageId&&n.model.value.icon?(n.pckg=r(i.packages,n.model.value.packageId),n.pckg&&(t.loadCss(n.pckg.cssfile),n.modelIsValid=!0)):n.modelIsValid=!1;n.loading=!1}var i=n.model.config;n.pckg;n.modelIsValid=!1;n.icon;n.selectIcon=function(t){t.pickerData.icon&&t.pickerData.packageId?(n.pckg=r(i.packages,t.pickerData.packageId),n.model.value=t.pickerData,n.modelIsValid=!0):n.modelIsValid=!1};n.removeIcon=function(){n.model.value={};n.modelIsValid=!1};n.overlay={view:"/app_plugins/iconic/views/iconic.dialog.html",title:"Select an icon",hideSubmitButton:!0,submit:n.selectIcon,close:function(){n.overlay.show=!1},pickerData:n.model.value,pickerConfig:i};u()}]);